<!-- START doctoc generated TOC please keep comment here to allow auto update -->
<!-- DON'T EDIT THIS SECTION, INSTEAD RE-RUN doctoc TO UPDATE -->
**目录**

- [一、消息中间件](#%E4%B8%80%E6%B6%88%E6%81%AF%E4%B8%AD%E9%97%B4%E4%BB%B6)
- [二、ActiveMQ](#%E4%BA%8Cactivemq)
  - [1、ActiveMQ 基本概念](#1activemq-%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5)
  - [2、使用 ActiveMQ](#2%E4%BD%BF%E7%94%A8-activemq)
  - [3、ActiveMQ 集群](#3activemq-%E9%9B%86%E7%BE%A4)

<!-- END doctoc generated TOC please keep comment here to allow auto update -->

# 一、消息中间件

MQ的衡量指标：服务性能、数据存储、集群架构
## 1、主流中间件介绍

### 1.1、ActiveMQ
- 概述：
	
### 1.2、Kafka

### 1.3、RocketMQ

### 1.4、RabbitMQ

## 2、AMQP协议-高级消息队列协议

### 2.1、概述
是具有现代特征的二进制协议，是一个提供统一消息服务的应用层标准高级消息队列协议，是应用层协议的一个开放标准，为面向消息的中间件设计

### 2.2、AMQP协议模型

### 2.3、AMQP核心概念

- Server：又称Broker，接受客户端连接，实现AMQP实体服务；
- Connction：连接，应用程序与Broker的网络连接；
- Channel：网络信道，几乎所有的操作都是在Channel进行，Channel是进行消息读写的通道；客户端可以建立多个Channel，每个Channle代表一个会话任务；
- Message：消息，服务器和应用程序之间传输的数据，由Properties和body组成，Properties对消息进行修饰，比如消息的优先级、延迟等；Body则是消息体内容；
- Virtual Host：虚拟地址，用户进行逻辑隔离，最上层的消息路由；一个Virtual Host里面可以有若干个Exchange和Q，同一个Virtual Host里面不能有相同名称的Exchange或Queue；
- Exchange：交换机，接受消息，根据路由键转发消息到绑定的队列；
- Binding：Exchange和Queue之间的虚拟连接，binding中可以包含routing key；
- Routing Key：一个路由规则，虚拟机可用它来确定如何路由一个特点消息；
- Queue：也称为Message Queue，消息队列，保存消息并将它们转发给消费者；

# 二、RabbitMQ

## 1、概述

### 1.1、定义：
RabbitMQ是一个开源的消息代理和队列服务器器，RabbitMQ是使用Erlang语言来编写的，并且RabbitMQ是AMQP协议；

### 1.2、具有以下特点：
- 开源、性能优秀，稳定性保障；
- 提供可靠性消息投递模式、返回模式；
- 与SpringAMQP完美整合，API丰富；
- 集群模式丰富，表达式配置，HA模式，镜像对象模型；
- 保障数据不丢失的前提做到高可靠性、可用性

### 1.3、高性能原因
- Erlang语言最初在于交换机领域的架构模式，使得RabbitMQ在broker之间进行数据交互性能是非常优秀的；
- Erlang特点：有着和原生socket一样的延迟；

### 1.4、RabbitMQ的整体架构


### 1.5、RabbitMQ消息流转



