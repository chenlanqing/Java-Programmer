<!-- START doctoc generated TOC please keep comment here to allow auto update -->
<!-- DON'T EDIT THIS SECTION, INSTEAD RE-RUN doctoc TO UPDATE -->
**目录**

- [一.分布式系统](#%E4%B8%80%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F)
  - [1.分布式系统](#1%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F)
  - [2.为什么要用分布式系统](#2%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E7%94%A8%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F)
  - [3.集群](#3%E9%9B%86%E7%BE%A4)
  - [4.集群和分布式](#4%E9%9B%86%E7%BE%A4%E5%92%8C%E5%88%86%E5%B8%83%E5%BC%8F)
- [二.分布式事务](#%E4%BA%8C%E5%88%86%E5%B8%83%E5%BC%8F%E4%BA%8B%E5%8A%A1)
- [三.分布式session](#%E4%B8%89%E5%88%86%E5%B8%83%E5%BC%8Fsession)
- [四.分布式锁](#%E5%9B%9B%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81)
  - [1.分布式锁:](#1%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81)
  - [2.数据库分布式锁](#2%E6%95%B0%E6%8D%AE%E5%BA%93%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81)
  - [3.Redis分布式锁](#3redis%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81)
  - [4.Zookeeper分布式锁](#4zookeeper%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81)
- [五.分布式缓存](#%E4%BA%94%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98)
- [六.分布式其他问题](#%E5%85%AD%E5%88%86%E5%B8%83%E5%BC%8F%E5%85%B6%E4%BB%96%E9%97%AE%E9%A2%98)
  - [1.幂等性](#1%E5%B9%82%E7%AD%89%E6%80%A7)

<!-- END doctoc generated TOC please keep comment here to allow auto update -->

参考文章:
* [幂等性](http://blog.brucefeng.info/post/api-idempotent)

# 一.分布式系统
## 1.分布式系统
	由多个节点组成的系统,节点之前相互连通;
	把一个计算任务分解成若干个计算单元,并且分派到若干不同的计算机中去执行,然后汇总计算结果的过程
## 2.为什么要用分布式系统
	(1).升级单机处理能力的性价比越来越低;
	(2).单机处理能力存在瓶颈;
	(3).出于稳定性和可用性考虑;
## 3.集群

## 4.集群和分布式
	(1).集群是每台服务器都具有相同的功能,处理请求时调用哪台服务器都可以,主要是分流作用
		分布式是将不同的业务放到不同的服务器中,处理一个请求可能需要用到多台服务器.
	(2).集群主要有:静态资源集群和应用程序集群.
		session同步是集群和分布式一个核心问题.
		session同步有两种处理方式:一种是在 session 发生变化后自动同步到其他服务器,另一种就是用一个程序统一管理session.
		tomcat 默认使用的是第一种.第二种需要安装高效的缓存程序来统一管理session.

# 二.分布式事务

# 三.分布式session

# 四.分布式锁
* https://www.cnblogs.com/austinspark-jessylu/p/8043726.html

## 1.分布式锁:
	在分布式环境下,保证一个方法在同一时间只有一个线程能调用一个方法,或者多个客户端同时对一个服务请求时,
	需要使用分布式锁.
	1.1.分布式锁应该是怎样的?
	* 可以保证在分布式部署的应用集群中,同一个方法在同一时间只能被一台机器上的一个线程执行;
	* 这把锁要是一把可重入锁(避免死锁)
	* 这把锁最好可以是一把阻塞锁;
	* 有高可用的获取锁和释放锁功能;
	* 获取锁和释放锁的性能要好
	1.2.分布式锁的实现方案:
		(1).基于数据库实现分布式锁;
		(2).基于缓存(redis,tair)等;
		(3).基于zookeeper实现分布式锁
## 2.数据库分布式锁
### 2.1.基于数据库表
	要实现分布式锁,最简单的方式可能就是直接创建一张锁边,然后通过操作该表中的数据来实现.
	当要锁住某个方法或者资源时,就在该表中增加一条记录,如果要释放锁就删除该记录.
## 3.Redis分布式锁

## 4.Zookeeper分布式锁

# 五.分布式缓存

# 六.分布式其他问题
## 1.幂等性
### 1.1.定义
	1.1.1.数学定义:在数学里,幂等主要有两种定义
		(1).在某一个二元运算下,幂等元素是指被自己重复运算的结果等于它自己,例如乘法下唯一的两个幂等实数为0和1;
		(2).某一元运算为幂等时,其作用在任一元素两次后和其作用一次的结果都相同.例如高斯符号便是幂等:f(f(x))=f(x)
	1.1.2.HTTP规范定义:
		HTTP幂等性指的是一次或者多次请求某一个资源应该具有相同的副作用.如果通过PUT解决将数据的status置为1
		无论是第一次执行还是多次执行,获取到的结果应该是相同的,即执行完成之后Status =1
### 1.2.何种接口提供幂等性
	1.2.1.在HTTP规范中定义GET,PUT和DELETE方法应该具有幂等性:
		(1).GET:是向服务器查询,不会对系统产生副作用,具有幂等性(不代表每次请求相同的结果)
		(2).PUT:首先判断系统中是否有相关的记录，如果有记录则更新该记录，如果没有则新增记录
		(3).DELETE:删除服务器上的相关记录
	











