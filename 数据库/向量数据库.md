# 一、向量数据库


## 主流的向量数据库

![](image/常用向量数据库.jpg)

- Chroma：简单易用，适合中小型项目；
- Milvus：功能完备，适合中大型项目；

## 企业向量数据库要求

- 可扩展性：当数据量增加时，是否能通过增加节点来扩展系统的容量和计算能力
- 吞吐量：当请求量和数据量增加时，系统能否在短时间内处理更多的请求(QPS)
- 稳定性：当系统故障时，数据是否丢失，是否能备份和恢复，是否有监控和日志


# 二、Chroma

- [官方文档](https://www.trychroma.com/)

## 1、安装部署

```
pip install chromadb
```
服务端部署
```
chroma run --path ./data

Usage: chroma run [OPTIONS]                                                                                                                        
 Run a chroma server                                                                                                                                
╭─ Options ────────────────────────────────────────────────────────────────────────────────╮
│ --path            TEXT     The path to the file or directory. [default: ./chroma_data]   │
│ --host            TEXT     The host to listen to. Default: localhost [default: localhost]│
│ --log-path        TEXT     The path to the log file. [default: chroma.log]               │
│ --port            INTEGER  The port to run the server on. [default: 8000]                │
│ --help                     Show this message and exit.                                   │
╰──────────────────────────────────────────────────────────────────────────────────────────╯
```
客户端使用
```python
import chromadb
chroma_client = chromadb.HttpClient(host='localhost', port=8000)
# 直接使用
import chromadb
client = chromadb.Client()
client = chromadb.PersistentClient(path="./data")
```

# 三、Milvus

- [Milvus-官方文档](https://milvus.io/zh)

## 1、安装部署

- [官方安装文档](https://milvus.io/docs/zh/install-overview.md)

```bash
# 方式一
curl -sfL https://raw.githubusercontent.com/milvus-io/milvus/master/scripts/standalone_embed.sh -o standalone_embed.sh

bash standalone_embed.sh start
bash standalone_embed.sh stop
bash standalone_embed.sh delete

# 方式二
# 通过docker-compose
mkdir milvus_compose
cd milvus_compose
wget https://github.com/milvus-io/milvus/releases/download/v2.2.8/milvus-standalone-docker-compose.yml -O docker-compose.yml
 
sudo systemctl daemon-reload
sudo systemctl restart docker

# 启动服务
docker-compose up -d


# 安装 python接口库
pip install pymilvus
```

# 参考资料

- [什么是向量数据库](https://www.pinecone.io/learn/vector-database/)
- [向量数据库选型](https://zhuanlan.zhihu.com/p/27399676042)