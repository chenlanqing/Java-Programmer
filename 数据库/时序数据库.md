# 一、时序数据库

## 1、基本概念

时序数据库全称为时间序列数据库（Time series database，TSDB）。时间序列数据库主要用于指处理带时间标签（按照时间的顺序变化，即时间序列化）的数据，带时间标签的数据也称为时间序列数据。

时间序列数据主要由互联网行业、电力行业、化工行业等各类型实时监测、检查与分析设备所采集、产生的数据，这些工业数据的典型特点是：产生频率快（每一个监测点一秒钟内可产生多条数据）、严重依赖于采集时间（每一条数据均要求对应唯一的时间）、测点多信息量大（常规的实时监测系统均有成千上万的监测点，监测点每秒钟都产生数据，每天产生几十GB的数据量）

## 2、特点

- 数据随着时间增长，根据维度取值，而数据纬度几乎不变。
- 持续高并发写入，设备越多，写入数量越大，而且由于定期采样，写入量平稳。
- 几乎不会有更新操作（一个设备在某个时间点产生的数据不会变动）以及单独数据点的删除（通常只会删除过期时间范围内所有的数据）
- 查询一般都是查最近产生的数据，很少会去查询过期的数据。
- 设备之间的数据关联性小，同种类设备A和设备B产生的数据互相并不依赖，你并不需要join

## 3、时序数据库选型

- [Time Series DBMS Rank](https://db-engines.com/en/ranking/time+series+dbms)

当我们选择时序数据库时，参考业内的经验，主要关注以下几点：
- Data model：时间序列数据模型一般有两种，一种无schema，具有多tag的模型，还有一种name、timestamp、value型。前者适合多值模式，对复杂业务模型更适合。后者更适合单维数据模型。
- Query language：目前大部分TSDB都支持基于HTTP的SQL-like查询。
- Reliability：可用性主要体现在系统的稳定高可用上，以及数据的高可用存储上。一个优秀的系统，应该有一个优雅而高可用的架构设计。简约而稳定。
- Performance：性能是我们必须考虑的因素。当我们开始考虑更细分领域的数据存储时，除了数据模型的需求之外，很大的原因都是通用的数据库系统在性能上无法满足我们的需求。大部分时间序列库倾向写多读少场景，用户需要平衡自身的需求。下面会有一份各库的性能对比，大家可以做一个参考。
- Ecosystem：我一直认为生态是我们选择一个开源组件必须认真考虑的问题。一个生态优秀的系统，使用的人多了，未被发现的坑也将少了。另外在使用中遇到问题，求助于社区，往往可以得到一些比较好的解决方案。另外好的生态，其周边边界系统将十分成熟，这让我们在对接其他系统时会有更多成熟的方案。
- Operational management：易于运维，易于操作。
- Company and support：一个系统其背后的支持公司也是比较重要的。背后有一个强大的公司或组织，这在项目可用性保证和后期维护更新上都会有较大的体验。

# 二、QuestDB

- [QuestDB-Fast SQL for time-series](https://questdb.io/)