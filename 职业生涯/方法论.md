# 一、10X工作法

当一个产品经理给我交代一个要开发的功能特性时，我通常会问他这样一些问题：
- 为什么要做这个特性，它会给用户带来怎样的价值？
- 什么样的用户会用到这个特性，他们在什么场景下使用，他们又会怎样使用它？
- 达成这个目的是否有其它手段？是不是一定要开发一个系统？
- 这个特性上线之后，怎么衡量它的有效性？

## 1、以终为始

### 1.1、什么事以终为始

人们习惯采用顺序思考的思维方式，几十万年的进化将这种思考模式刻在了我们的基因里。要成为更好的自己，我们要克服自身的不足，而这个做法很简单，那就是“以终为始”，做事倒着想，先考虑结果；

以终为始即结果导向；

以终为始的前提是，你要确保你的“终”是有价值的。对于在职场上的我们来说，我们的“终”要定位成做对用户有价值的事。这个用户可以是指我们产品的实际使用用户，也可以是日常和我们合作利益相关方（Stakeholders）

### 1.2、完成的定义

DoD（Definition of Done，完成的定义）告诉我们怎样算是完成了，尽量减少因为理解偏差造成的各种浪费，比如常见的`开发完成`，表示开发人员编写好功能代码，编写好单元测试代码，编写好集成测试代码，测试可以通过，代码通过了代码风格检查、测试覆盖率检查；

怎样让 DoD 更好地发挥作用：
- DoD 是一个清单，清单是由一个个的检查项组成的，用来检查我们的工作完成情况；
- DoD 的检查项应该是实际可检查的；
- DoD 是团队成员间彼此汇报的一种机制：当我们有了 DoD，做事只有两种状态，即“做完”和“没做完”

比如经常会有人过来，让帮忙做些事。运用 DoD 的思维，首先会问他具体要做哪些事，确认好细节（相当于定义好“检查项”），然后就知道，这个忙能帮到什么程度

DoD 是一个思维模式，是一种尽可能消除不确定性，达成共识的方式。

> 在做任何事之前，先定义完成的标准

### 1.3、验收

用户故事：用户故事是一种分析需求的方法，能将各个功能串联起来以便做场景化的思考。最重要的是它能确定验收标准，这将作为后续开发的准绳；

在做任何需求或任务之前，先定好验收标准。

### 1.4、事前推演

“最后一公里”，这个说法指的是完成一件事，在最后也是最关键的步骤；

问题解决计划：
- 先从结果的角度入手，看看最终上线要考虑哪些因素。
- 推演出一个可以一步一步执行的上线方案，用前面考虑到的因素作为衡量指标。
- 根据推演出来的上线方案，总结要做的任务

### 1.5、数字化思维

如果我们可以在一开始，就设计好测量工作有效性的指标，那么就可以更有目的性地去工作了；

"数字也是沟通的一把利器，用数字说话，避免空谈"，可以提高沟通效率；

使用数字量化，可以先从沟通开始，少用甚至不用“可能”、”应该“、“大概”等字眼，在监控系统状态的时候，也都尽量将指标量化而不是凭感觉。这样做了之后可以减少内部甚至外部沟通成本，更好的规划自己的工作，也能快速确定系统出现问题的原因

> 问一下自己，我的工作是不是可以用数字衡量。

### 1.6、迭代0

一般来说，第一个迭代周期就是迭代 1，然后是迭代 2、迭代 3，依次排列。从名字上不难发现，所谓迭代 0，就是在迭代 1 之前的一个迭代，所以可以把它理解成开发的准备阶段；

迭代0的具体内容只是基本的清单：

![](image/迭代0-基本内容清单.png)

### 1.7、总结

行业最佳实践：
- DoD，确定好完成的定义，减少团队内部的理解不一致。
- 用户故事，细化出有价值的需求。
- 持续集成，通过尽早集成，减少改动量，降低集成的难度。
- 精益创业，减少过度开发不确定性产品带来的浪费。
- 迭代 0，在项目开始之前，做好一些基础准备。

实战指南：
- 遇到事情，倒着想。
- 在做任何事之前，先定义完成的标准。
- 在做任何需求或任务之前，先定好验收标准。
- 尽早提交代码去集成。
- 默认所有需求都不做，直到弄清楚为什么要做这件事。
- 扩大自己工作的上下文，别把自己局限在一个“程序员”的角色上。
- 在动手做一件事之前，先推演一番。
- 问一下自己，我的工作是不是可以用数字衡量。
- 设计你的迭代 0 清单，给自己的项目做体检。

## 2、任务分解

通过任务分解，一个原本复杂的问题，甚至看起来没有头绪的问题，逐渐有了一个通向答案的方向；

任务分解是一个知难行易的过程。知道怎么分解是困难的，一旦知道了，行动反而要相对来说容易一些；任务分解是做好 TDD 的关键点。只有把任务分解到可以测试的地步，才能够有针对性地写测试

将任务拆小，越小越好；任务分解的关键在于：小

### 2.1、如何分解任务

在分解过程中的顺序，按照这个完整的任务清单中的内容一项一项地做，调整最基本的标准是，按照这些任务的依赖关系以及“完整地实现一个需求”的原则

所有分解出来的任务，都是独立的。也就是说，每做完一个任务，代码都是可以提交的。只有这样，才可能做到真正意义上的小步提交

> 按照完整实现一个需求的顺序去安排分解出来的任务；

如果对于一个功能，你做过多次，很熟悉，在任务分解的时候粒度可以偏粗；如果面对的是一个全新/复杂的需求，在任务分解的时候需要做到细粒度的；

案例：以用户登录需求为例

**完整的需求列表：**
- 用户注册用户名、密码；
- 注册用户通过用户名、密码登录；
- 登录用户退出；

针对上面的需求，任务拆解之后：

![](image/任务拆解案例-用户登录.png)

如果针对一个你分解不了的任务，如何处理？很简单，先把它变成你熟悉的技术，[快速尝试](https://blog.ming.ws/posts/read/10x-develop-technique/technical-spkie/#post)，其作用就在于消除不确定性，让项目经理知道这里要用到一项全团队没有人懂的技术，需要花时间弄清楚。
- 首先，跟着官方教程走一遍；
- 确定两点：这项技术在项目中的应用场景和我们关注的点；无论是场景，还是关注点，要在前面先想清楚，其目的就是为了防止发散；
- 开发出一个验证我们想法的原型

### 2.2、需求拆分与需求管理

上面针对的是开发任务，在砍需求的时候，我们需要针对某个需求进行分解，然后按照分解的后的需求排优先级；

> 想要管理好需求，先把需求拆小；

进行开发之前先把需求理解好，也就是要做什么，然后进行需求的拆分，也就是怎么做，到这时候有些用户故事肯定会由于某些原因做不了，就砍掉，再然后对需求进行排期。所以拆分需求的过程也是梳理项目的过程；

需求拆分完成之后，就是需求管理了，其实就是确定优先级，

将事情按照重要和紧急两个维度进行划分，也就形成了四个部分：重要且紧急，重要不紧急，不重要且紧急，不重要不紧急；按照时间管理的理念，重要且紧急的事情要立即做。重要但不紧急的事情应该是我们重点投入精力的地方。紧急但不重要的事情，可以委托别人做。不重要不紧急的事情，尽量少做；

需求分解之后，最重要的是，排列需求的优先级。优先级的排列方式有很多，可以借鉴时间管理的方法，把事情按照重要和紧急的维度进行划分，得到了四个象限。要尽可能把精力放在重要的事情上，而不是把紧急的事情当成优先级排序的方式；

> 尽量做最重要的事

以最低的代价做最有价值的事情（最小可行产品（Minimum Viable Product，MVP）），当时间有限时，我们需要学会找到一条可行的路径，在完整用户体验和完整系统之间，找到一个平衡；做好产品开发，最可行的方式是采用 MVP。

### 2.3、关于目标与现状

目标是应该怎么做，现状是我们正在怎么做；如果对现状不满意，可以尝试制定一定的目标，然后对目标进行分解，分步骤进行，不需要一步到位;

## 3、沟通反馈

### 3.1、信息传达

信息的传达要经过编码和解码两个过程，无论是编码出现问题，还是解码出现问题，都会造成信息的不准确；而因为每个人经历见识的差异，造成了各自编解码器的差异。世界是同一个世界，每个人看到的却是千姿百态

> 几乎是很多程序员讲东西的通病：讲东西直奔细节

沟通反馈就是改善编码、解码以及算法的方式

改善编解码的方式：
- 编码器，让信息能输出更准确；
- 解码器，减少信号过滤，改善解码能力；
- 还有编解码算法，也就是各种来自行业的“最佳实践”，协调沟通的双方

可用做法：
- 讲话前，想好自己想说什么；如果可能，可用请别人复述一遍，至少保证在信息源上不丢失信息；
- 听完后，复述一遍；甚至可用复述多遍

### 3.2、改善会议

开会是为了解决问题，但真实情况却是开了会又没有解决多少问题，这真是一个奇特的矛盾。

开会是一种重量级的沟通；

如何改善会议：
- 减少参与讨论的人数；
- 如果你要讨论，找人面对面沟通

**关于站会：**如果站会超过 10 分钟，你的站会一定是错的，站会一般内容：
- 我昨天做了什么？为了与其他人同步进展，看事情是否在计划上。一旦偏离计划，请主动把它提出，这样，项目经理可以过问，因为这会涉及到是否要调整项目计划；
- 我今天打算做什么？同步你接下来的工作安排。如果涉及到与其他人协作，也就是告诉大家，让他们有个配合的心理准备
- 我在过程中遇到了什么问题，需要请求帮助；就是与其他人的协作，表示：我遇到不懂的问题，你们有信息的话，可以给我提供一下。

开会相关实践：
- 开会前，将说明议程、及讨论内容等前提内容并提前告知与会人员；会议过程中记录会议纪要，保证纪要可以收集全所有的笔记和行动计划。如果是关联会议，则使用上次相关的文档进行追加内容（保持事件连贯性、完整性）

### 3.3、可视化

多尝试用可视化的方式进行沟通。
- 技术雷达
- 看板，比如电子看板等

### 3.4、快速反馈

持续集成的本质：尽快得到工作反馈，即快速反馈

### 3.5、复盘

把过程还原，进行研讨与分析的方式，叫复盘

**回顾会议**

组织回顾会议，可以从几点：做得好的、做得欠佳的、问题或建议；

或者可以按照海星图的方式：分成了五大类：“继续保持、开始做、停止做、多做一些、少做一些”五类。

无论采取何种方式进行复盘，分析问题，找到根因都是重要的一环

> 定期复盘，找准问题根因，不断改善。

好的复盘需要有坦诚的文化氛围，不然有可能变成互相指责甩锅，就失去了意义；复盘是为了找出问题的所在，而不是为了责备别人

### 3.6、用户视角

走近用户，才能真实体验用户的感受

### 3.7、Fail Fast

遇到问题，最好的解决方案是尽早把问题暴露出来，越早发现问题，解决的成本就越低，不仅仅是解决问题本身的成本，更多的是对团队整体计划的影响

尽早暴露问题需要克服心理障碍

### 3.8、写文档

将零散的知识结构化，有很多种方式，但输出是非常关键的一环。

输出的过程，本质上就是把知识连接起来的过程。自己以为自己懂的东西，当你真的需要把它按照一个完整的逻辑呈现出来时，那些缺失的细节就会冒出来，而补齐这些细节，一张知识地图就逐渐成型了

如何输出：（金字塔原理）从中心论点、分论点至论据，这样一层层向下展开，从结构上看，就像金字塔一样，所以，这个方法称之为金字塔原理
- 首先，我们要确定想要表达的是什么，也就是找到中心论点；
- 然后，再确定支撑这个论点的分论点，再来就是找到支撑每个分论点的论据


## 4、自动化

学习自动化，先要知道哪些东西不要自动化，尽最大的努力不做浪费时间的事。一方面，我们要从需求上规避那些没必要做的事；另一方面，我们也从自身防止 NIH 综合症（Not Invented Here Syndrome），争取做一个懒惰的程序员；

想拥有打造良好的自动化工具，我们需要对软件设计有着充分地理解；

### 4.1、验收测试自动化

验收测试（Acceptance Testing），是确认应用是否满足设计规范的测试。验收测试是技术交付必经的环节

行为驱动开发（Behavior Driven Development，BDD）：行为驱动开发中的行为，指的是业务行为。BDD 希望促进业务人员与开发团队之间的协作，换句话说，如果你想做 BDD，就应该用业务语言进行描述，其强调使用DSL(Domain Specific Language，领域特定语言)描述用户行为，定义业务需求，是需求分析人员、开发人员与测试人员进行沟通的有效方法

当前最流行的 BDD 框架应该是 Cucumber；

想写好 BDD 的测试用例，关键点在用业务视角描述

### 4.2、微服务

别轻易使用微服务，先用分模块的方式在一个工程内，让服务先演化一段时间，等到真的觉得某个模块可以“毕业”了，再去开启微服务之旅。

## 5、实践

### 5.1、入职一家新公司快速融入

运用思考框架，问三个问题：
- Where are we?（我们现在在哪？）
- Where are we going?（我们要到哪儿去？）：能够解决日常的项目问题
- How can we get there?（我们如何到达那里？）：如何达成目标；

主要从以下三个方面入手：
- 业务：了解业务，一般可以找相关同事了解，这个业务是做什么的，解决什么样的问题，具体的业务流程是什么样子的等等；
- 技术：技术栈，接下来是系统架构，系统包含了哪些模块，与哪些外部系统有交互等等；可以从外向内了解；
    
    外部包含：
    - 这个系统对外提供哪些接口，这对应着系统提供的能力；
    - 这个系统需要集成哪些外部系统，对应着它需要哪些支持

    内部主要是要从业务入手，对应起来就是，这个系统由哪些模块组成，每个模块承担怎样的职责。如果系统已经是微服务，每个服务就应该是一个独立的模块；系统分层等，最后才是代码，比如，代码的目录结构、配置文件的位置、模块在源码上的体现

- 团队运作：比如，需求是从哪来的，产品最终会由谁使用，团队需要向谁汇报。如果有外部客户，日常沟通是怎么安排的。如果是内部的活动，一方面是定期的活动，比如，站会、回顾会议、周会，这些不同活动的时间安排是怎样的；另一方面是团队的日常活动，比如，是否有每天的代码评审、是否有内部的分享机制等等

![](image/入职新公司需要做的.png)

### 5.2、面对遗留系统

运用思考框架，问三个问题：
- Where are we?（我们现在在哪？）
- Where are we going?（我们要到哪儿去？）：能够解决日常的项目问题
- How can we get there?（我们如何到达那里？）：如何达成目标；

相应的对应上面三步走：
- 分清现象与根因：需要找到遗留系统和烂代码的根源，因为遗留系统和烂代码只是现象，不是根源；比如代码耦合严重、架构存在问题；
- 确定方案：如果分析好了遗留系统存在问题的根因，先尝试重构你的代码，尽可能在已有代码上做小步调整，不要走到大规模改造的路上，因为重构的成本是最低的；
- 如何做：如果是重构或者重写之后，如何保证跟之前的功能是一样的，唯一靠谱的做法是依赖测试；如果没有测试，最好是先补上测试；
- 如何替换遗留系统：分成小块，逐步替换；比如可以有两套系统，在前面的流量入口做控制，逐步把流量从老系统转到新系统上去；如果只是代码层面上，根据参数将流程转到不同的代码上去，然后，根据开发的进展，逐步减少对老代码的调用，一直到完全不依赖于老代码；
- 如何不走老路：构建好领域模型，并寻找行业中关于系统构建的最新理解

> 改造遗留系统，一个关键点就是，不要回到老路上

### 5.3、如何保持竞争力

我们的焦虑来自于对未来的不确定性，而这种不确定性是一个特定时代加上特定行业的产物。

成为 T 型人，简言之，一专多能，有了“一专”，“多能”才是有意义的，否则，就是低水平重复，而这正是很多人职业生涯不见起色的真正原因；这里的“专”不是熟练，而是深入；

很多人的焦虑就源自目标太低，找不到前进的动力。给自己定下一个可以长期努力的目标，走在职业的道路上才不致于很快丧失动力；

怎么才能让自己的水平不断提高呢？一个好问题去解决，解决了一个好的问题能够让你的水平快速得到提升，什么是好问题？就是比你当前能力略高一点的问题；

当你成为了一个行业级别的专家，就可以在这条路上一直走下去，而不必担心自己是不是拼得过年轻人了，因为你也在一直前进！

> 在学习区工作和成长，不要躺在舒适区；

### 5.4、如何推行新技术

